<section id="about" class="section">
  <div class="container mx-auto px-4">
    <div class="grid xl:grid-cols-2 gap-16 items-center">
      <div class="reveal">
        <img
          src="/images/about.webp"
          alt="Advanced DEFENSE Technology"
          class="rounded-lg shadow-2xl shadow-gray-300 mx-auto mb-8"
        />
        <img
          src="/images/about.webp"
          alt="Advanced DEFENSE Technology"
          class="rounded-lg shadow-2xl shadow-gray-300 mx-auto"
        />
      </div>
      <div class="reveal text-center xl:text-left">
        <h2
          class="section-title relative text-4xl lg:text-5xl font-bold pb-4 mb-8 after:left-1/2 xl:after:left-0 xl:after:translate-x-0 text-center"
        >
          About Us
        </h2>
        <p class="text-lg text-[#495057] mb-6 leading-relaxed text-justify">
          Aligning with the Prime Minister's visionary goals of "Make in India"
          and "AatmaNirbhar Bharat," Abhyuday is spearheading the development of
          a pioneering Aerospace & Defense (A&D) Cluster to establish a
          sovereign and technologically advanced defense sector in India. As a
          leading R&D organization, Abhyuday has designed this cluster as a
          dynamic ecosystem uniting over 600 members, including specialized
          firms, innovative startups, and MSMEs from aerospace and core
          engineering disciplines. The primary objective of this collaborative
          powerhouse is to harness collective capabilities to create
          high-impact, indigenous solutions. By focusing on homegrown
          innovation, the cluster aims to reduce import dependency, strengthen
          national security, and develop cutting-edge technologies for critical
          defense applications. Recognizing that startups and MSMEs are central
          to this transformation, Abhyuday has established a dedicated Defense
          Helpdesk. This crucial initiative provides comprehensive, free-of-cost
          hand-holding and incubation support, empowering emerging enterprises
          with mentorship, regulatory guidance, and market integration. Through
          this approach, Abhyuday is architecting a self-sufficient and globally
          competitive defense manufacturing landscape for a truly AatmaNirbhar
          Bharat.
        </p>

        <!-- Stats Boxes -->
        <div class="grid grid-cols-2 lg:grid-cols-3 gap-4 mt-8 text-center">
          <div
            class="bg-gray-100 p-6 rounded-lg shadow-md transition-all duration-300 hover:-translate-y-2 hover:shadow-xl"
          >
            <p
              id="exp-count"
              class="text-2xl sm:text-3xl lg:text-4xl font-bold text-[#2E8B57]"
            >
              0+
            </p>
            <p class="text-sm font-semibold text-[#495057] mt-2">
              Years Experience
            </p>
          </div>
          <div
            class="bg-gray-100 p-6 rounded-lg shadow-md transition-all duration-300 hover:-translate-y-2 hover:shadow-xl"
          >
            <p
              id="states-count"
              class="text-2xl sm:text-3xl lg:text-4xl font-bold text-[#2E8B57]"
            >
              0+
            </p>
            <p class="text-sm font-semibold text-[#495057] mt-2">
              States Covered
            </p>
          </div>
          <div
            class="bg-gray-100 p-6 rounded-lg shadow-md transition-all duration-300 hover:-translate-y-2 hover:shadow-xl col-span-2 lg:col-span-1"
          >
            <p
              id="projects-count"
              class="text-2xl sm:text-3xl lg:text-4xl font-bold text-[#2E8B57]"
            >
              0+
            </p>
            <p class="text-sm font-semibold text-[#495057] mt-2">
              Crore Projects
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  // --- COUNTER ANIMATION ---
  const counterAnim = (
    qSelector: string,
    start = 0,
    end: number,
    duration = 2000
  ) => {
    const target = document.querySelector(qSelector);
    if (!target) return;

    let startTimestamp: number | null = null;
    const step = (timestamp: number) => {
      if (!startTimestamp) startTimestamp = timestamp;
      const progress = Math.min((timestamp - startTimestamp) / duration, 1);
      target.innerHTML =
        Math.floor(progress * (end - start) + start).toLocaleString() + "+";
      if (progress < 1) {
        window.requestAnimationFrame(step);
      }
    };
    window.requestAnimationFrame(step);
  };

  const statsObserver = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          counterAnim("#exp-count", 0, 15, 2000);
          counterAnim("#states-count", 0, 20, 2000);
          counterAnim("#projects-count", 0, 3600, 2000);
          statsObserver.unobserve(entry.target); // Stop observing after animation runs once
        }
      });
    },
    { threshold: 0.5 }
  );

  const aboutSection = document.getElementById("about");
  if (aboutSection) {
    statsObserver.observe(aboutSection);
  }
</script>
